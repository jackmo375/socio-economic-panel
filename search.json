[
  {
    "objectID": "appendix.html",
    "href": "appendix.html",
    "title": "Appendix",
    "section": "",
    "text": "Import packages\nCode\nsuppressWarnings(library(tidyverse))\nsuppressWarnings(library(cowplot))\n\n\n\nAttaching package: 'cowplot'\n\n\nThe following object is masked from 'package:lubridate':\n\n    stamp\n\n\nCode\nsuppressWarnings(library(knitr))\nsuppressWarnings(library(performance))"
  },
  {
    "objectID": "appendix.html#number-of-persons-in-the-household",
    "href": "appendix.html#number-of-persons-in-the-household",
    "title": "Appendix",
    "section": "number of persons in the household",
    "text": "number of persons in the household\n\n\nCode\ndata_clean %&gt;% group_by(study_year) %&gt;% summarize(Q_0 = fivenum(persons_in_household)[1], Q_1 = fivenum(persons_in_household)[2], Q_2 = fivenum(persons_in_household)[3], Q_3 = fivenum(persons_in_household)[4], Q_4 = fivenum(persons_in_household)[5]) %&gt;% kable()\n\n\n\n\n\nstudy_year\nQ_0\nQ_1\nQ_2\nQ_3\nQ_4\n\n\n\n\n2015\n1\n2\n3\n4\n11\n\n\n2016\n1\n2\n3\n4\n10\n\n\n2017\n1\n2\n2\n4\n13\n\n\n2018\n1\n2\n2\n4\n11\n\n\n2019\n1\n2\n2\n4\n11"
  },
  {
    "objectID": "appendix.html#number-of-children-in-the-household",
    "href": "appendix.html#number-of-children-in-the-household",
    "title": "Appendix",
    "section": "number of children in the household",
    "text": "number of children in the household\n\n\nCode\ndata_clean %&gt;% group_by(study_year) %&gt;% summarize(Q_0 = fivenum(children_in_household)[1], Q_1 = fivenum(children_in_household)[2], Q_2 = fivenum(children_in_household)[3], Q_3 = fivenum(children_in_household)[4], Q_4 = fivenum(children_in_household)[5]) %&gt;% kable()\n\n\n\n\n\nstudy_year\nQ_0\nQ_1\nQ_2\nQ_3\nQ_4\n\n\n\n\n2015\n0\n0\n0\n1\n8\n\n\n2016\n0\n0\n0\n1\n8\n\n\n2017\n0\n0\n0\n1\n10\n\n\n2018\n0\n0\n0\n1\n9\n\n\n2019\n0\n0\n0\n1\n8"
  },
  {
    "objectID": "appendix.html#number-of-years-of-education",
    "href": "appendix.html#number-of-years-of-education",
    "title": "Appendix",
    "section": "number of years of education",
    "text": "number of years of education\n\n\nCode\ndata_clean %&gt;% group_by(study_year) %&gt;% summarize(Q_0 = fivenum(number_of_years_of_education)[1], Q_1 = fivenum(number_of_years_of_education)[2], Q_2 = fivenum(number_of_years_of_education)[3], Q_3 = fivenum(number_of_years_of_education)[4], Q_4 = fivenum(number_of_years_of_education)[5]) %&gt;% kable()\n\n\n\n\n\nstudy_year\nQ_0\nQ_1\nQ_2\nQ_3\nQ_4\n\n\n\n\n2015\n7\n10.5\n11.5\n13.5\n18\n\n\n2016\n7\n10.5\n11.5\n14.0\n18\n\n\n2017\n7\n10.5\n11.5\n14.0\n18\n\n\n2018\n7\n10.5\n11.5\n14.0\n18\n\n\n2019\n7\n10.5\n11.5\n14.5\n18"
  },
  {
    "objectID": "appendix.html#total-annual-income-euros",
    "href": "appendix.html#total-annual-income-euros",
    "title": "Appendix",
    "section": "total annual income (euros)",
    "text": "total annual income (euros)\n\n\nCode\ndata_clean %&gt;% group_by(study_year) %&gt;% summarize(Q_0 = fivenum(total_annual_income)[1], Q_1 = fivenum(total_annual_income)[2], Q_2 = fivenum(total_annual_income)[3], Q_3 = fivenum(total_annual_income)[4], Q_4 = fivenum(total_annual_income)[5]) %&gt;% kable()\n\n\n\n\n\nstudy_year\nQ_0\nQ_1\nQ_2\nQ_3\nQ_4\n\n\n\n\n2015\n0\n0\n5442.302\n27030.45\n238066.7\n\n\n2016\n0\n0\n5711.281\n27826.83\n241445.2\n\n\n2017\n0\n0\n5478.343\n28852.98\n269424.9\n\n\n2018\n0\n0\n7278.390\n30265.16\n269277.5\n\n\n2019\n0\n0\n7501.270\n31771.43\n262437.1"
  },
  {
    "objectID": "appendix.html#general-health-status",
    "href": "appendix.html#general-health-status",
    "title": "Appendix",
    "section": "general health status",
    "text": "general health status\n\n\nCode\ndata_clean %&gt;% group_by(study_year) %&gt;% summarize(Q_0 = fivenum(general_health_status)[1], Q_1 = fivenum(general_health_status)[2], Q_2 = fivenum(general_health_status)[3], Q_3 = fivenum(general_health_status)[4], Q_4 = fivenum(general_health_status)[5]) %&gt;% kable()\n\n\n\n\n\nstudy_year\nQ_0\nQ_1\nQ_2\nQ_3\nQ_4\n\n\n\n\n2015\n1\n2\n2\n3\n5\n\n\n2016\n1\n2\n2\n3\n5\n\n\n2017\n1\n2\n2\n3\n5\n\n\n2018\n1\n2\n2\n3\n5\n\n\n2019\n1\n2\n2\n3\n5"
  },
  {
    "objectID": "appendix.html#life-satisfaction",
    "href": "appendix.html#life-satisfaction",
    "title": "Appendix",
    "section": "life satisfaction",
    "text": "life satisfaction\n\n\nCode\ndata_clean %&gt;% group_by(study_year) %&gt;% summarize(Q_0 = fivenum(life_satisfaction)[1], Q_1 = fivenum(life_satisfaction)[2], Q_2 = fivenum(life_satisfaction)[3], Q_3 = fivenum(life_satisfaction)[4], Q_4 = fivenum(life_satisfaction)[5]) %&gt;% kable()\n\n\n\n\n\nstudy_year\nQ_0\nQ_1\nQ_2\nQ_3\nQ_4\n\n\n\n\n2015\n0\n7\n8\n8\n10\n\n\n2016\n0\n7\n8\n8\n10\n\n\n2017\n0\n7\n8\n8\n10\n\n\n2018\n0\n7\n8\n8\n10\n\n\n2019\n0\n7\n8\n9\n10"
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "Results",
    "section": "",
    "text": "Import packages\n\n\nCode\nsuppressWarnings(library(tidyverse))\nsuppressWarnings(library(cowplot))\n\n\n\nAttaching package: 'cowplot'\n\n\nThe following object is masked from 'package:lubridate':\n\n    stamp\n\n\nCode\nsuppressWarnings(library(knitr))\nsuppressWarnings(library(lme4))\n\n\nLoading required package: Matrix\n\n\n\nAttaching package: 'Matrix'\n\n\nThe following objects are masked from 'package:tidyr':\n\n    expand, pack, unpack\n\n\nCode\nsuppressWarnings(library(effects))\n\n\nLoading required package: carData\n\n\nlattice theme set by effectsTheme()\nSee ?effectsTheme for details.\n\n\nModel diagnostics and R^2 values, and imputation error estimates, can be found in the appendix.\n\nSummary statistics\n\n\nCode\nreadRDS('../data/processed/data_clean.RDS') %&gt;% as_tibble() -&gt; data_clean\n\n\nAfter cleaning, we were left with 23,522 observations of 6355 participants on 12 variables. The variables were: study participant ID, year of observation, participant sex, age at observation, number of persons living with the participant at the time of the observation, number of children living with the participant at the time of observation, number of years of education of the particpant, the participant’s current employment status, the current number of the particpant’s income sources, their current total annual income in euros, their self evaluated general health status on a scale of 1 (bad) to 5 (good), and their self evaluated life satisfaction on a scale of 1 (bad) to 10 (good).\nThe five-number summary of the the number of times a given participant was observed in the study was: Min = 1, Q1 = 2, Median = 4, Q3 = 5, Max = 5. The participants were observed in consecutive years, from 2015 to 2019. Throughout the study perion, the number of participants dropped, as shown in the plot below, from 5,527 to 3,937. As 5,527 is less than the total number of participants in the study, we see that while some participants left the study after the first year, others joined later.\n\n\nCode\ndata_clean %&gt;% ggplot(aes(x=study_year)) + geom_bar() + theme_cowplot()\n\n\n\n\n\n\n\n\n\nThe minimum age in years of the participants was 17 across each study year, and the max age was around 100. The distribution of age for each study year is shown in the table below.\n\n\nCode\ndata_clean %&gt;% group_by(study_year) %&gt;% summarize(Q_0 = fivenum(age)[1], Q_1 = fivenum(age)[2], Q_2 = fivenum(age)[3], Q_3 = fivenum(age)[4], Q_4 = fivenum(age)[5]) %&gt;% kable()\n\n\n\n\n\nstudy_year\nQ_0\nQ_1\nQ_2\nQ_3\nQ_4\n\n\n\n\n2015\n17\n33\n46\n60\n98\n\n\n2016\n17\n34\n48\n62\n99\n\n\n2017\n17\n34\n48\n62\n100\n\n\n2018\n17\n34\n49\n62\n101\n\n\n2019\n17\n35\n50\n63\n102\n\n\n\n\n\nAge is approximately normally distributed, with a truncation in the left tail, as can be seen for 2015 in the histogram below.\n\n\nCode\ndata_clean %&gt;% filter(study_year==2015) %&gt;% ggplot(aes(x=age)) + geom_histogram(bins=10) + theme_cowplot()\n\n\n\n\n\n\n\n\n\nThe study recorded 2533 males to 2994 females in 2015, showing that women were more likely to be recruited (p value less than 0.005; binomial test). We summarise the other variables in the appendix. We note that, for the general health status, and the life satisfaction scores, the distributions remain the same across the years. While general health status is skewed to the left (more participants recorded a score above the scale midpoint) the life satisfaction score is skewed to the right (more participants recorded a score lower than the scale midpoint).\n\n\nModel parameters\n\n\nCode\nreadRDS('../data/processed/data_imputed.RDS') -&gt; data_imputed\nreadRDS('../results/lme_fit.RDS') -&gt; lme_fit\nread.csv('../data/raw/soep_practice_studv.csv') %&gt;%\n  as_tibble() -&gt; data_raw\n\n\n\n\nFixed effects\nOur mixed-effects regression model was fit to the data. We observed the following fixed effects.\n\n\nCode\nlme_fit %&gt;% summary()\n\n\nLinear mixed model fit by REML ['lmerMod']\nFormula: \nlife_satisfaction ~ (1 | id) + sex + age + I(age^2) + persons_in_household +  \n    children_in_household + number_of_years_of_education + employment_status +  \n    number_income_sources + total_annual_income + general_health_status\n   Data: data_imputed\n\nREML criterion at convergence: 79582.3\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-6.7600 -0.4268  0.0588  0.5315  4.8288 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n id       (Intercept) 0.9987   0.9993  \n Residual             1.1969   1.0940  \nNumber of obs: 23522, groups:  id, 6355\n\nFixed effects:\n                                               Estimate Std. Error t value\n(Intercept)                                    3.365741   0.228181  14.750\nsexfemale                                      0.103860   0.031108   3.339\nage                                           -2.036259   0.447489  -4.550\nI(age^2)                                       3.067581   0.460758   6.658\npersons_in_household                           0.332658   0.035031   9.496\nchildren_in_household                          0.181329   0.058666   3.091\nnumber_of_years_of_education                   0.616040   0.071416   8.626\nemployment_statuspart_time                    -0.060928   0.035913  -1.697\nemployment_statuseducation_apprenticeship     -0.137540   0.060996  -2.255\nemployment_statusirregular_marginal           -0.144800   0.046732  -3.099\nemployment_statusunemployed                   -0.245931   0.036136  -6.806\nemployment_statusworkshop_for_disabled_people -0.099853   0.384012  -0.260\nnumber_income_sources                          0.054431   0.042815   1.271\ntotal_annual_income                            0.009187   0.005636   1.630\ngeneral_health_status                          0.620443   0.011410  54.377\n\n\n\nCorrelation matrix not shown by default, as p = 15 &gt; 12.\nUse print(x, correlation=TRUE)  or\n    vcov(x)        if you need it\n\n\nAs the above table of fixed effects shows, the factor most significantly associated with life satisfaction is general health status (t value 54.377). Other significantly associated factors include the number of people sharing the household with the study participant (t value 9.496), number of years of education the participant has (t value 8.626), Whether or not the particpant is unemployed (t value -6.806) and the participant’s age (t values -4.550 and 6.658 for age and age squared, respectively).\nWe show the effects of changing these paramter values in the plots below.\n\n\nCode\nas.data.frame(predictorEffect(\"sex\", lme_fit)) %&gt;%\n  ggplot(aes(x=sex, y=fit)) +\n    geom_point() +\n    geom_errorbar( aes(x=sex, ymin=lower, ymax=upper), width=0.1) +\n    labs(y=\"life satisfaction\") +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nWe observe no significant difference in life satisfaction between the sexes, i.e. females appear not to be more or less satisfied than men at any statistically significant level.\n\n\nCode\nas.data.frame(predictorEffect(\"age\", lme_fit)) %&gt;%\n  mutate(age = age*100) %&gt;%\n  ggplot(aes(x=age, y=fit)) + \n    geom_line() + \n    geom_ribbon(aes(ymin = lower, ymax = upper), alpha = 0.2) +\n    labs(y=\"life satisfaction\") +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nWe observe a ‘U’ shaped dependency of life satisfaction on age: satisfaction starts out moderately high at 17 years old, then dips to a low at around 35 years, and subsequently continues to climb again as participants reach old age. We observe however that the overall change (from minium life satisfaction at 35 to maximum satisfaction at 100) is relatively small.\n\n\nCode\nas.data.frame(predictorEffect(\"persons_in_household\", lme_fit)) %&gt;%\n  mutate(persons_in_household = exp(persons_in_household)) %&gt;%\n  ggplot(aes(x=persons_in_household, y=fit)) + \n    geom_line() + \n    geom_ribbon(aes(ymin = lower, ymax = upper), alpha = 0.2) +\n    labs(y=\"life satisfaction\", x=\"number of persons in household\") +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nThe number of people sharing the household with the participant is found to be a significant moderator of life satisfaction. Houses with no or few people contain on average people with less life satisfaction than those of houses with many people. The change is most pronounced between homes of 5 people or less, and begins to tail offf as the occupancy number grows beyond 5.\n\n\nCode\nas.data.frame(predictorEffect(\"children_in_household\", lme_fit)) %&gt;%\n  mutate(children_in_household = (children_in_household)^(-1) - 1) %&gt;%\n  ggplot(aes(x=children_in_household, y=fit)) + \n    geom_line() + \n    geom_ribbon(aes(ymin = lower, ymax = upper), alpha = 0.2) +\n    labs(y=\"life satisfaction\", x='number of children in household') +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nFor fixed household occupancy number, an increase in number of children in the same household we find actually decreses life satisfaction. The change is most pronounced for small households, and begins to plateu as the number of children in the same house grows by more than 2 (for fixed number of total occupants). However, the overall effect is relatively small, as can be seen in the y axis of the plot above.\n\n\nCode\nas.data.frame(predictorEffect(\"number_of_years_of_education\", lme_fit)) %&gt;%\n  mutate(number_of_years_of_education = exp(number_of_years_of_education)) %&gt;%\n  ggplot(aes(x=number_of_years_of_education, y=fit)) + \n    geom_line() + \n    geom_ribbon(aes(ymin = lower, ymax = upper), alpha = 0.2) +\n    labs(y=\"life satisfaction\", x='number of years of education') +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nThe number of years of education a participant has, once age and income have been accounted for, is found to correlate significantly with life satisfaction, and the overall size of the effect is reasonably pronounced. The model predicts that, for an additional 9 years of education life satisfaction grows almost constantly year by year, and the overall difference in life satisfaction gained through these years on average is about 0.6 points.\n\n\nCode\nas.data.frame(predictorEffect(\"employment_status\", lme_fit)) %&gt;%\n  ggplot(aes(y=employment_status, x=fit)) +\n    geom_point() +\n    geom_errorbar(aes(y=employment_status, xmin=lower, xmax=upper), width=0.1) +\n    labs(x=\"life satisfaction\", y='employment status') +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nEmployement status is found to significantly moderate life satisfaction. The most mnotable difference is between unemployed participants and the rest of the cohort. The t value for this association is -6.806, which is similar to that of the association between number of years of education and lie satisfaction. Again we note that, while the effect is significant, the overal size of this effect is small in comparison to some of the other factors.\n\n\nCode\nas.data.frame(predictorEffect(\"number_income_sources\", lme_fit)) %&gt;%\n  ggplot(aes(x=number_income_sources, y=fit)) + \n    geom_line() + \n    geom_ribbon(aes(ymin = lower, ymax = upper), alpha = 0.2) +\n    labs(y=\"life satisfaction\", x='number of income sources') +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\n\n\nCode\nas.data.frame(predictorEffect(\"total_annual_income\", lme_fit)) %&gt;%\n  mutate(total_annual_income = exp(total_annual_income) - 1) %&gt;%\n  ggplot(aes(x=total_annual_income, y=fit)) + \n    geom_line() + \n    geom_ribbon(aes(ymin = lower, ymax = upper), alpha = 0.2) +\n    scale_x_log10() +\n    labs(y=\"life satisfaction\", x='total annual income (euros)') +\n    theme_cowplot()\n\n\nWarning in scale_x_log10(): log-10 transformation introduced infinite values.\nlog-10 transformation introduced infinite values.\n\n\n\n\n\n\n\n\n\nBoth the number of income sources of a participant, and their total annual income in Euros, is not found to significantly associate with life satisfaction, as in both plots above, horizontal lines are conistent with the error margins shown in grey across the whole range of income, and number of income soures. In short: we find no significant evidence in this study to suggest that an increase in income translates to an increase in life satisfaction.\n\n\nCode\nas.data.frame(predictorEffect(\"general_health_status\", lme_fit)) %&gt;%\n  mutate(general_health_status = 6 - general_health_status) %&gt;%\n  ggplot(aes(x=general_health_status, y=fit)) + \n    geom_line() + \n    geom_ribbon(aes(ymin = lower, ymax = upper), alpha = 0.2) +\n    labs(y=\"life satisfaction\", x='general health status') +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nOf all the factors included in this study, general health status has the most significant association with life expectancy, i.e. the highest t value: 54.377. As the participant’s assessment of their general health declines, their assessment of their life satisfaction also declines in a linear relationship. The size of the effect is also the largest in the model: for a change in self assessed general health status from 1 to 5 we observe a drop in life expectancy of 2 points. This is the largest change in life expectancy points with respect to the range of observed values of any independent variable in the model.\n\n\nPredictions for subject 11390\nIn this section we show some model predictions for a fixed participant in the study, to further illustrate our model. We chose the participant with study id 11390. This participant is female. She entered the study in 2015 at 17 years old. They remained with the study throughout its duration, and were followed up from 2015 to 2019, where they left the study at 20 years old. Throughout the study there remained 5 people in their home, but the number of children changed from 3 in 2015 to only 1 in 2019. This implies that there were two parents in the home woith 3 teenage children, and as the study years passed two of the children (including the study participant) turned 18, and hence become redefined as an adult in the study data. At the start of the study they were in an apprenticeship, and by 2019 they had left the apprenticeship and found full time work. Their general health status remained constant at 4 over the study period, and their life satisfaction remained constant at 8 acorss the final 3 years of the study. The life satisfaction report was missing for their 2015 observation.\nWe first used our model to predict how their life satisfaction will change over the next decade, from age 20 to age 30, assuming they remain in full time employment, with fixed general health status and a fixed annual income of 20000 Euros.\n\n\nCode\ndata.frame(\n  id='11390',\n  sex='female',\n  age=seq(from=(20)/100, to=(30)/100, length.out=100),\n  persons_in_household=log(5),\n  number_of_years_of_education=2.30,\n  employment_status='full_time',\n  children_in_household=1,\n  number_income_sources=1,\n  total_annual_income=log(20000+1),\n  general_health_status=4) %&gt;% as_tibble() -&gt; prediction_lattice_11390\n\nprediction_lattice_11390 %&gt;% \n  mutate(fit = predict(lme_fit, prediction_lattice_11390, re.form = NULL)) -&gt; predictions_11390\n\npredictions_11390 %&gt;%\n  mutate(age = age*100) %&gt;%\n  ggplot(aes(x=age, y=fit)) + \n  geom_line() +\n  labs(x='age (years)', y='life satisfaction') +\n  theme_cowplot()\n\n\n\n\n\n\n\n\n\nAs we see in the plot, their life satisfaction is expected to drop over the decade by approximately 0.05 points. They are predicted to not reach their lifetime minimum satisfaction value during this age interval.\nNext we predicted how their life satisfaction might be different if, at 30 years of age, they lived in homes with different numbers of people. We assumed they are still employed full time with an annual salary of 20000 euros, and 1 child in the home.\n\n\nCode\ndata.frame(\n  id='11390',\n  sex='female',\n  age=30/100,\n  persons_in_household=seq(from=log(2), to=log(13), length.out=10),\n  number_of_years_of_education=log(10),\n  employment_status='full_time',\n  children_in_household=1,\n  number_income_sources=1,\n  total_annual_income=log(20000+1),\n  general_health_status=4) %&gt;% as_tibble() -&gt; prediction_lattice_11390\n\nprediction_lattice_11390 %&gt;% \n  mutate(fit = predict(lme_fit, prediction_lattice_11390, re.form = NULL)) -&gt; predictions_11390\n\npredictions_11390 %&gt;%\n  mutate(persons_in_household = exp(persons_in_household)) %&gt;%\n    ggplot(aes(x=persons_in_household, y=fit)) + \n    geom_line() +\n    labs(x='number of persons in household', y='life satisfaction') +\n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nTheir life expectancy is predicted to increase sharply for increases in houshold occupancy number for smaller households, and less drammatically for larger households.\nNext, we predicted how their life satisfaction at 30 years of age would change if they had taken on more or less education over the period from age 20 to age 30. We hold all other variables fixed. We assume they live with 1 child, 3 people in the household, full time employment, and a fixed annual salary of 20000 euros.\n\n\nCode\ndata.frame(\n  id='11390',\n  sex='female',\n  age=30/100,\n  persons_in_household=log(3),\n  number_of_years_of_education=seq(from=log(10), to=log(18), length.out=10),\n  employment_status='full_time',\n  children_in_household=1,\n  number_income_sources=1,\n  total_annual_income=log(20000+1),\n  general_health_status=4) %&gt;% as_tibble() -&gt; prediction_lattice_11390\n\nprediction_lattice_11390 %&gt;% \n  mutate(fit = predict(lme_fit, prediction_lattice_11390, re.form = NULL)) -&gt; predictions_11390\n\npredictions_11390 %&gt;%\n  mutate(number_of_years_of_education = exp(number_of_years_of_education)) %&gt;%\n    ggplot(aes(x=number_of_years_of_education, y=fit)) + \n    geom_line() +\n    labs(x='number of years of education', x='life satisfaction') + \n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nWe predict a near constant increase in life satisfaction across the period. We observe a difference of 0.4 satisfaction points between no extra education and an additional 8 years of education between the ages of 20 and 30.\nFinally, we asked how this study participant’s life satisfaction would change at 20 years old if their health status drammatically shifted. Again we assumed they were in full time employment, stayed in the same household they lived in at the end of the study (5 people, 1 child), and had an annual income of 20000 euros.\n\n\nCode\ndata.frame(\n  id='11390',\n  sex='female',\n  age=20/100,\n  persons_in_household=log(5),\n  number_of_years_of_education=2.30,\n  employment_status='full_time',\n  children_in_household=1,\n  number_income_sources=1,\n  total_annual_income=log(20000+1),\n  general_health_status=1:5) %&gt;% as_tibble() -&gt; prediction_lattice_11390\n\nprediction_lattice_11390 %&gt;% \n  mutate(fit = predict(lme_fit, prediction_lattice_11390, re.form = NULL)) -&gt; predictions_11390\n\npredictions_11390 %&gt;%\n  mutate(general_health_status = 6 - general_health_status) %&gt;%\n  ggplot(aes(x=general_health_status, y=fit)) + \n  geom_line() +\n  labs(x='general health status', y='life satisfaction') +\n  theme_cowplot()\n\n\n\n\n\n\n\n\n\nWe predict their life expectancy to drop 3 points, from 9 (very satisfied) to 6 (less satisfied), as their health condition deteriorates from a level 1 (good) to 5 (worst). We note that, even in the case where their self-assed health is at its lowest, their life satisfaction still remains above the mod point of the 10 point scale."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Report",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "1_clean.html",
    "href": "1_clean.html",
    "title": "Cleaning report",
    "section": "",
    "text": "Import packages\nCode\nlibrary(tidyverse)\nlibrary(cowplot)\n\n\n\nAttaching package: 'cowplot'\n\n\nThe following object is masked from 'package:lubridate':\n\n    stamp\nRead in the cleaned study data\nCode\nreadRDS('../data/processed/data_clean.RDS') %&gt;% as_tibble() -&gt; data_clean"
  },
  {
    "objectID": "1_clean.html#meta-data",
    "href": "1_clean.html#meta-data",
    "title": "Cleaning report",
    "section": "meta data",
    "text": "meta data\n\n\nCode\ndata_clean %&gt;% glimpse()\n\n\nRows: 23,522\nColumns: 12\n$ id                           &lt;fct&gt; 194, 194, 194, 194, 194, 19052, 27495, 27…\n$ study_year                   &lt;int&gt; 2015, 2016, 2017, 2018, 2019, 2015, 2016,…\n$ sex                          &lt;fct&gt; female, female, female, female, female, f…\n$ age                          &lt;int&gt; 59, 60, 61, 62, 63, 74, 35, 37, 38, 85, 7…\n$ persons_in_household         &lt;int&gt; 2, 2, 2, 2, 2, 2, 3, 3, 3, 2, 1, 1, 4, 4,…\n$ children_in_household        &lt;int&gt; 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 2, 2,…\n$ number_of_years_of_education &lt;dbl&gt; 10.5, 10.5, 10.5, 10.5, 10.5, 10.0, 15.0,…\n$ employment_status            &lt;fct&gt; part_time, part_time, part_time, part_tim…\n$ number_income_sources        &lt;int&gt; 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 2, 2, 1, 1,…\n$ total_annual_income          &lt;dbl&gt; 28678.943, 19962.293, 22227.676, 22100.37…\n$ general_health_status        &lt;int&gt; 4, 3, 3, 5, 4, 2, 2, 3, 2, 3, 4, NA, 3, 3…\n$ life_satisfaction            &lt;int&gt; 6, 5, 7, 5, 6, 8, 8, 8, 8, 8, 5, 8, 8, 7,…"
  },
  {
    "objectID": "1_clean.html#missingness",
    "href": "1_clean.html#missingness",
    "title": "Cleaning report",
    "section": "missingness",
    "text": "missingness\n\n\nCode\ndata_clean %&gt;% summarise(across(everything(), ~ sum(is.na(.)))) %&gt;%\n  pivot_longer(cols = everything(),\n               names_to = \"variable\",\n               values_to = \"n_missing\") %&gt;%\n  mutate(percent_missing = round(n_missing * 100 / nrow(data_clean),1))\n\n\n# A tibble: 12 × 3\n   variable                     n_missing percent_missing\n   &lt;chr&gt;                            &lt;int&gt;           &lt;dbl&gt;\n 1 id                                   0             0  \n 2 study_year                           0             0  \n 3 sex                                  0             0  \n 4 age                                  0             0  \n 5 persons_in_household                77             0.3\n 6 children_in_household               77             0.3\n 7 number_of_years_of_education      1611             6.8\n 8 employment_status                    2             0  \n 9 number_income_sources                0             0  \n10 total_annual_income                  0             0  \n11 general_health_status              102             0.4\n12 life_satisfaction                  611             2.6\n\n\n\n\nCode\ndata_clean$study_year %&gt;%\n  hist(main='study_year')\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=age)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=persons_in_household)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(persons_in_household=log(persons_in_household)) %&gt;%\n  ggplot(aes(x=persons_in_household)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=children_in_household)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(children_in_household=(children_in_household+1)^(-1)) %&gt;%\n  ggplot(aes(x=children_in_household)) + \n    geom_histogram(bins=8) + \n    theme_cowplot()\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=number_of_years_of_education)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 353 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(number_of_years_of_education = log(number_of_years_of_education)) %&gt;%\n  ggplot(aes(x=number_of_years_of_education)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 353 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=total_annual_income)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(total_annual_income = log(total_annual_income)) %&gt;%\n  ggplot(aes(x=total_annual_income)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\nWarning: Removed 2170 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=general_health_status)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 26 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=life_satisfaction)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 125 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(life_satisfaction = log(11 - life_satisfaction)) %&gt;%\n  ggplot(aes(x=life_satisfaction)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 125 rows containing non-finite outside the scale range\n(`stat_bin()`)."
  },
  {
    "objectID": "introduction.html",
    "href": "introduction.html",
    "title": "SOEP study",
    "section": "",
    "text": "What are all the key factors we would imagine influencing life satisfaction in a first world country population? Write them all down. If they are not found in the clean SOEP data set, but we expect them to be influential, this is important. We will need to discuss it in the discussion section."
  }
]