[
  {
    "objectID": "4_model_diagnostics.html",
    "href": "4_model_diagnostics.html",
    "title": "Model diagnostic report",
    "section": "",
    "text": "Import packages\n\n\nCode\nlibrary(tidyverse)\nlibrary(lme4)\n\n\nLoading required package: Matrix\n\n\n\nAttaching package: 'Matrix'\n\n\nThe following objects are masked from 'package:tidyr':\n\n    expand, pack, unpack\n\n\nCode\nlibrary(effects)\n\n\nLoading required package: carData\n\n\nlattice theme set by effectsTheme()\nSee ?effectsTheme for details.\n\n\nCode\nlibrary(performance)\nlibrary(cowplot)\n\n\n\nAttaching package: 'cowplot'\n\n\nThe following object is masked from 'package:lubridate':\n\n    stamp\n\n\nCode\nlibrary(lattice)\n\n\n\n\nCode\nreadRDS('../data/processed/data_imputed.RDS') -&gt; data_imputed\nreadRDS('../results/lme_fit.RDS') -&gt; lme_fit\nread.csv('../data/raw/soep_practice_studv.csv') %&gt;%\n    as_tibble() -&gt; data_raw\n\n\n\n\nCode\nlme_fit %&gt;% summary()\n\n\nLinear mixed model fit by REML ['lmerMod']\nFormula: \nlife_satisfaction ~ (1 | id) + sex + age + I(age^2) + persons_in_household +  \n    children_in_household + number_of_years_of_education + employment_status +  \n    number_income_sources + total_annual_income + general_health_status\n   Data: data_imputed\n\nREML criterion at convergence: 79582.3\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-6.7600 -0.4268  0.0588  0.5315  4.8288 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n id       (Intercept) 0.9987   0.9993  \n Residual             1.1969   1.0940  \nNumber of obs: 23522, groups:  id, 6355\n\nFixed effects:\n                                               Estimate Std. Error t value\n(Intercept)                                    3.365741   0.228181  14.750\nsexfemale                                      0.103860   0.031108   3.339\nage                                           -2.036259   0.447489  -4.550\nI(age^2)                                       3.067581   0.460758   6.658\npersons_in_household                           0.332658   0.035031   9.496\nchildren_in_household                          0.181329   0.058666   3.091\nnumber_of_years_of_education                   0.616040   0.071416   8.626\nemployment_statuspart_time                    -0.060928   0.035913  -1.697\nemployment_statuseducation_apprenticeship     -0.137540   0.060996  -2.255\nemployment_statusirregular_marginal           -0.144800   0.046732  -3.099\nemployment_statusunemployed                   -0.245931   0.036136  -6.806\nemployment_statusworkshop_for_disabled_people -0.099853   0.384012  -0.260\nnumber_income_sources                          0.054431   0.042815   1.271\ntotal_annual_income                            0.009187   0.005636   1.630\ngeneral_health_status                          0.620443   0.011410  54.377\n\n\n\nCorrelation matrix not shown by default, as p = 15 &gt; 12.\nUse print(x, correlation=TRUE)  or\n    vcov(x)        if you need it\n\n\n\n\nCode\nplot(lme_fit)\n\n\n\n\n\n\n\n\n\n\n\nCode\nqqnorm(resid(lme_fit))\nqqline(resid(lme_fit))\n\n\n\n\n\n\n\n\n\n\n\nCode\nranef(lme_fit) %&gt;% as.data.frame %&gt;% ggplot(aes(x=condval)) + geom_histogram() + theme_cowplot()\n\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\nCode\ndotplot(ranef(lme_fit, condVar = TRUE))\n\n\n$id\n\n\n\n\n\n\n\n\n\n\n\nCode\nperformance::r2(lme_fit)\n\n\n# R2 for Mixed Models\n\n  Conditional R2: 0.540\n     Marginal R2: 0.155\n\n\nMarginal R-squared: proportion of variance explained by the fixed effects only. Conditional R-squared: proportion of variance explained by both fixed + random effects together. So, since marginal is so much lower, this means the random effects are doing a lot of the explanatory work here. This means we could not do a straight regression model."
  },
  {
    "objectID": "2_transform.html",
    "href": "2_transform.html",
    "title": "Transformation report",
    "section": "",
    "text": "Import packages\n\n\nCode\nlibrary(tidyverse)\n\n\nRead in the transformed data\n\n\nCode\nreadRDS('../data/processed/data_transformed.RDS') %&gt;% as_tibble() -&gt; data_transformed\n\n\n\n\nCode\ndata_transformed$age %&gt;% \n  hist(main=\"age\")\n\n\n\n\n\n\n\n\n\nCode\ndata_transformed$persons_in_household %&gt;% \n  hist(\n    breaks=6,\n    main=\"persons in household\")\n\n\n\n\n\n\n\n\n\nCode\ndata_transformed$number_of_years_of_education %&gt;% \n  hist(\n    breaks=6,\n    main=\"number of years of education\")\n\n\n\n\n\n\n\n\n\nCode\ndata_transformed$total_annual_income %&gt;% \n  hist(main=\"total annual income\")\n\n\n\n\n\n\n\n\n\nCode\ndata_transformed$general_health_status %&gt;% \n  hist(\n    breaks=5,\n    main=\"general health status\")\n\n\n\n\n\n\n\n\n\nCode\ndata_transformed$life_satisfaction %&gt;% hist(\n  breaks=5,\n  main=\"life satisfaction\")"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "analysis",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "1_clean.html",
    "href": "1_clean.html",
    "title": "Cleaning report",
    "section": "",
    "text": "Import packages\nCode\nlibrary(tidyverse)\nlibrary(cowplot)\n\n\n\nAttaching package: 'cowplot'\n\n\nThe following object is masked from 'package:lubridate':\n\n    stamp\nRead in the cleaned study data\nCode\nreadRDS('../data/processed/data_clean.RDS') %&gt;% as_tibble() -&gt; data_clean"
  },
  {
    "objectID": "1_clean.html#meta-data",
    "href": "1_clean.html#meta-data",
    "title": "Cleaning report",
    "section": "meta data",
    "text": "meta data\n\n\nCode\ndata_clean %&gt;% glimpse()\n\n\nRows: 23,522\nColumns: 12\n$ id                           &lt;fct&gt; 194, 194, 194, 194, 194, 19052, 27495, 27…\n$ study_year                   &lt;int&gt; 2015, 2016, 2017, 2018, 2019, 2015, 2016,…\n$ sex                          &lt;fct&gt; female, female, female, female, female, f…\n$ age                          &lt;int&gt; 59, 60, 61, 62, 63, 74, 35, 37, 38, 85, 7…\n$ persons_in_household         &lt;int&gt; 2, 2, 2, 2, 2, 2, 3, 3, 3, 2, 1, 1, 4, 4,…\n$ children_in_household        &lt;int&gt; 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 2, 2,…\n$ number_of_years_of_education &lt;dbl&gt; 10.5, 10.5, 10.5, 10.5, 10.5, 10.0, 15.0,…\n$ employment_status            &lt;fct&gt; part_time, part_time, part_time, part_tim…\n$ number_income_sources        &lt;int&gt; 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 2, 2, 1, 1,…\n$ total_annual_income          &lt;dbl&gt; 28678.943, 19962.293, 22227.676, 22100.37…\n$ general_health_status        &lt;int&gt; 4, 3, 3, 5, 4, 2, 2, 3, 2, 3, 4, NA, 3, 3…\n$ life_satisfaction            &lt;int&gt; 6, 5, 7, 5, 6, 8, 8, 8, 8, 8, 5, 8, 8, 7,…"
  },
  {
    "objectID": "1_clean.html#missingness",
    "href": "1_clean.html#missingness",
    "title": "Cleaning report",
    "section": "missingness",
    "text": "missingness\n\n\nCode\ndata_clean %&gt;% summarise(across(everything(), ~ sum(is.na(.)))) %&gt;%\n  pivot_longer(cols = everything(),\n               names_to = \"variable\",\n               values_to = \"n_missing\") %&gt;%\n  mutate(percent_missing = round(n_missing * 100 / nrow(data_clean),1))\n\n\n# A tibble: 12 × 3\n   variable                     n_missing percent_missing\n   &lt;chr&gt;                            &lt;int&gt;           &lt;dbl&gt;\n 1 id                                   0             0  \n 2 study_year                           0             0  \n 3 sex                                  0             0  \n 4 age                                  0             0  \n 5 persons_in_household                77             0.3\n 6 children_in_household               77             0.3\n 7 number_of_years_of_education      1611             6.8\n 8 employment_status                    2             0  \n 9 number_income_sources                0             0  \n10 total_annual_income                  0             0  \n11 general_health_status              102             0.4\n12 life_satisfaction                  611             2.6\n\n\n\n\nCode\ndata_clean$study_year %&gt;%\n  hist(main='study_year')\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=age)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=persons_in_household)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(persons_in_household=log(persons_in_household)) %&gt;%\n  ggplot(aes(x=persons_in_household)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=children_in_household)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(children_in_household=(children_in_household+1)^(-1)) %&gt;%\n  ggplot(aes(x=children_in_household)) + \n    geom_histogram(bins=8) + \n    theme_cowplot()\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=number_of_years_of_education)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 353 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(number_of_years_of_education = log(number_of_years_of_education)) %&gt;%\n  ggplot(aes(x=number_of_years_of_education)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 353 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=total_annual_income)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(total_annual_income = log(total_annual_income)) %&gt;%\n  ggplot(aes(x=total_annual_income)) + \n    geom_histogram(bins=6) + \n    theme_cowplot()\n\n\nWarning: Removed 2170 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=general_health_status)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 26 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;% \n  ggplot(aes(x=life_satisfaction)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 125 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nCode\ndata_clean %&gt;%\n  filter(study_year==2015) %&gt;%\n  mutate(life_satisfaction = log(11 - life_satisfaction)) %&gt;%\n  ggplot(aes(x=life_satisfaction)) + \n    geom_histogram(bins=5) + \n    theme_cowplot()\n\n\nWarning: Removed 125 rows containing non-finite outside the scale range\n(`stat_bin()`)."
  },
  {
    "objectID": "3_impute.html",
    "href": "3_impute.html",
    "title": "Cleaning report",
    "section": "",
    "text": "Import packages\nCode\nlibrary(tidyverse)\nRead in the cleaned study data\nCode\nreadRDS('../data/processed/data_imputed.RDS') %&gt;% as_tibble() -&gt; data_imputed"
  },
  {
    "objectID": "3_impute.html#missingness",
    "href": "3_impute.html#missingness",
    "title": "Cleaning report",
    "section": "Missingness",
    "text": "Missingness\n\n\nCode\ndata_imputed %&gt;% summarise(across(everything(), ~ sum(is.na(.)))) %&gt;%\n  pivot_longer(cols = everything(),\n               names_to = \"variable\",\n               values_to = \"n_missing\") %&gt;%\n  mutate(percent_missing = round(n_missing * 100 / nrow(data_imputed),1))\n\n\n# A tibble: 12 × 3\n   variable                     n_missing percent_missing\n   &lt;chr&gt;                            &lt;int&gt;           &lt;dbl&gt;\n 1 id                                   0               0\n 2 study_year                           0               0\n 3 sex                                  0               0\n 4 age                                  0               0\n 5 persons_in_household                 0               0\n 6 children_in_household                0               0\n 7 number_of_years_of_education         0               0\n 8 employment_status                    0               0\n 9 number_income_sources                0               0\n10 total_annual_income                  0               0\n11 general_health_status                0               0\n12 life_satisfaction                    0               0"
  }
]